<div align="right">นางสาวธนัญญา หินทุม 66102010241</div>

# Code Smell: Lazy Class (คลาสขี้เกียจ)

### ความหมายของ Lazy Class
**Lazy Class** คือคลาสที่แทบจะไม่ได้ทำหน้าที่สำคัญเลย หรือเป็นคลาสที่มีหน้าที่น้อยเกินไปจนไม่คุ้มที่จะแยกออกมาเป็นคลาสอิสระ จัดอยู่ในกลุ่ม Code Smell ประเภท Dispensable (โค้ดที่ไม่จำเป็น)
อาจขัดขวางการพัฒนาโดยทำให้โค้ดเบสซับซ้อนขึ้น และ บางฟังก์ชันการทำงานของคลาสนั้นสามารถนำไปรวมไว้ในคลาสอื่นได้
สาเหตุหลักๆ ที่มักจะเกิด lazy class:
- คลาสถูกออกแบบมาเพื่อรองรับฟีเจอร์ในอนาคตที่ยังมาไม่ถึง
- คลาสเคยมีความสำคัญในอดีต แต่หลังจากถูก Refactoring หรือตัดฟีเจอร์ออกไป งานของมันจึงลดลง
- เป็นคลาสที่เป็นเพียงทางผ่านของข้อมูล (Data Container) ที่ไม่มี Logic ใดๆ เลย

---

### ตัวอย่างโค้ดที่เกิด Code Smell (Before)

จากตัวอย่างนี้มีคลาส `Address` ที่แยกออกมาเพื่อเก็บแค่ข้อความเดียว ซึ่งทำให้โครงสร้างซับซ้อนโดยไม่จำเป็น
```csharp
//(Lazy Class)
public class Address 
{
    public string FullAddress { get; set; }

    public string GetFormattedAddress() 
    {
        return FullAddress;
    }
}
```
```csharp
public class Customer 
{
    public string Name { get; set; }
    public Address HomeAddress { get; set; } // ต้องเรียกผ่านคลาส Address อีกที
}
```
สามารถใช้เทคนิค Inline Class เมื่อคลาสนั้นทำงานน้อยเกินไป หรือ ใช้ Collapse Hierarchy เมื่อคลาสลูก (Subclass) แทบไม่มีความต่างจากคลาสแม่ (Superclass)
โดยการยุบส่วนประกอบของ Lazy Class เข้าไปไว้ในคลาสที่เรียกใช้งานมันโดยตรง เพื่อลดความซับซ้อน

### ตัวอย่างโค้ดที่ Refactoring แล้ว (After)
```csharp
// ยุบรวมฟิลด์จาก Address เข้ามาไว้ใน Customer โดยตรง
public class Customer 
{
    public string Name { get; set; }
    public string HomeAddress { get; set; } // เก็บเป็น Property ในตัวเลย
}
```
### กรณีที่ Code Smell นี้ไม่ได้บ่งบอกถึงโค้ดที่มีปัญหา
บางสถานการณ์ที่ควรปล่อย Lazy Class ไว้ ไม่จำเป็นต้อง Refactoring :  
1. **การเตรียมเผื่อขยาย (Future Intent):** คลาสนั้นถูกสร้างขึ้นเพื่อรองรับงานใหม่ที่กำลังจะเขียนเพิ่มในอนาคตอันใกล้ (แต่ต้องระวังไม่ให้กลายเป็น Speculative Generality)  
2. **ความชัดเจนในการสื่อสาร (Domain Clarity):** การใช้คลาสแยกเพื่อบ่งบอกประเภทข้อมูลเฉพาะทางธุรกิจ (เช่น EmailAddress หรือ Money) ถึงข้างในจะมีแค่ฟิลด์เดียว แต่ช่วยป้องกันการใส่ข้อมูลผิดประเภท (Strong Typing)  
3. **ข้อจำกัดทางสถาปัตยกรรม:** บาง Framework หรือ Library บังคับให้ต้องสร้างคลาสขึ้นมาตามโครงสร้างที่กำหนด (เช่น แนวทางของ Design Pattern บางตัว อย่าง Command Pattern ที่ต้องสร้างคลาสแยกสำหรับทุกๆ Action)  
4. **เพื่อความปลอดภัยหรือการทดสอบ:** การแยกคลาสเล็กๆ ออกมาอาจช่วยให้เขียน Unit Test ได้ง่ายขึ้น หรือช่วยให้การทำ Mocking ในการทดสอบทำได้สะดวกกว่าการรวมเป็นคลาสใหญ่



#### แหล่งอ้างอิง
- https://refactoring.guru/smells/lazy-class 
- https://code-smells.com/dispensables/lazy-class
